<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <TargetFramework>$(SdkTargetFramework)</TargetFramework>
    </PropertyGroup>
    <ItemGroup>
        <ProjectReference Include="..\Caravel.Abstractions\Caravel.Abstractions.csproj" />
    </ItemGroup>
    <!--Versioning-->
    <PropertyGroup>
        <MajorVersion>0</MajorVersion>
        <MinorVersion>1</MinorVersion>
        <PatchVersion>0</PatchVersion>
        <BaseVersion>$(MajorVersion).$(MinorVersion).$(PatchVersion)</BaseVersion>
        <BuildNumber Condition="'$(BuildNumber)' == ''">0</BuildNumber>
        <PackageVersion>$(BaseVersion)-alpha</PackageVersion>
        <Version>$(PackageVersion)</Version>
        <!--CaravelProducVersion from Directory.Build.props-->
        <ProductVersion>$(CaravelProducVersion)</ProductVersion>
        <AssemblyVersion>$(MajorVersion).$(MajorVersion).0.0</AssemblyVersion>
        <InformationalVersion>$(PackageVersion).$(BuildNumber)</InformationalVersion>
    </PropertyGroup>
    <!--Nuget configuration-->
    <PropertyGroup Condition="'$(Configuration)'=='Release'">
        <PackageId>$(FunctarioName).$(MSBuildProjectName)</PackageId>
        <Title>$(FunctarioName).$(MSBuildProjectName)</Title>
        <Description>
            Caravel is a framework that provides an abstraction for creating and navigating graphs.
        </Description>
        <PackageReleaseNotes>
            - Initial alpha release.
        </PackageReleaseNotes>
        <Authors>Functario</Authors>
        <PackageProjectUrl>https://github.com/functario/Caravel</PackageProjectUrl>
        <RepositoryUrl>https://github.com/functario/Caravel</RepositoryUrl>
        <RepositoryType>git</RepositoryType>
        <IncludeContentInPack>true</IncludeContentInPack>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageReadmeFile>README.md</PackageReadmeFile>
        <PackageTags>$(NugetTags)</PackageTags>
    </PropertyGroup>
    <!-- CreatePackage is a variable set in pipeline to point to the packages 
    instead of the output path when creating the NuGet package -->
    <ItemGroup Condition="'$(CreatePackage)' == 'true'">
        <PackageReference
            Include="Functario.Caravel.Abstractions"
            VersionOverride="[0.1.0-alpha,1.0.0)"
        />
    </ItemGroup>
    <ItemGroup>
        <None Include="..\..\README.md">
            <Pack>true</Pack>
            <PackagePath></PackagePath>
            <Visible>True</Visible>
        </None>
    </ItemGroup>
</Project>
